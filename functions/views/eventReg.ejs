<% include nav.ejs %>

<head>
	<title>Event Registration Form</title>

</head>

<div class="container">
	<div class="row"></div>
	<div class="row">
		<div class="col l3"></div>
		<div class="col s12 l6">
			<div class="card">
				<form action="/onEventSelect" method="POST" id="form">
					<div class="card-content">
						<h4 style="color: #faae29">Event Registration</h4><br>
						<div class="input-field">
							<select name="nameEvent" id="eventName" required class="event">
								<option disabled selected></option>
								<option value="beingPoirot">Being Poirot</option>
								<option value="circuitrix">Circuitrix</option>
								<option value="codeBound">Code Bound</option>
								<option value="espiriDeCorps">Esprit de Corps</option>
								<option value="finalDestination">Final Destination</option>
								<option value="kerbalSpaceProgram">Kerbal Space Program</option>
								<option value="lakshya">Lakshya</option>
								<option value="letsRingItUp">Let's ring it up</option>
								<option value="mathermentumContour">Mathementum Contour</option>
								<option value="mechathalon">Mechathalon</option>
								<option value="mindsweeper">Mindsweeper</option>
								<option value="omniumArtiumMagister">Omnium Artium Magister</option>
								<option value="projectExhibition">Project Exhibition</option>
								<option value="raceForGlory">Race for Glory</option>
								<option value="roboCup">Robo Cup</option>
								<option value="schoolDuels">School Duels</option>
								<option value="sherlocked">Sherlocked</option>
								<option value="targo">Targo</option>
								<option value="techRoadies">Tech roadies</option>
								<option value="theSphinxQuiz">The Sphinx Quiz</option>
							</select>
						</div>
						<div class="card-action">
							<button class="btn waves-effect waves-light" type="submit" name="action" onclick="Materialize.toast('Registered', 400)">Submit
								<i class="material-icons right">send</i>
							</button>
						</div>
				</form>
			</div>
		</div>
	</div>
</div>
<script defer src="/__/firebase/5.5.5/firebase-app.js"></script>
<script defer src="/__/firebase/5.5.5/firebase-firestore.js"></script>
<script defer src="/__/firebase/init.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script>
	/*function addFields() {
		var e = document.getElementById('nameEvent');
		var eventName = e.options[e.selectedIndex].value;
		console.log(eventName);
		console.log("CHecking");
		firebase.firestore().collection("events").doc(eventName).get().then((doc) => {
			if (doc.exists) {
				max = doc.data().Max;
				min = doc.data().Min;
				count = doc.data().count;
				console.log(max);
				if (max == min) {
					while (container.hasChildNodes()) {
						container.removeChild(container.lastChild);
					}
					for (i = 1; i <= max; i++) {
						container.appendChild(document.createTextNode("Student " + (i) + " "));
						var input = document.createElement("input");
						input.type = "text";
						input.name = "Student" + i;
						container.appendChild(input);
						container.appendChild(document.createElement("br"));
					}
				}
				else {
					while (container.hasChildNodes()) {
						container.removeChild(container.lastChild);
					}
					number = max;
					for (i = 1; i <= max; i++) {
						container.appendChild(document.createTextNode("Student " + (i) + " "));
						var input = document.createElement("input");
						input.type = "text";
						input.name = "Student" + i;
						container.appendChild(input);
						container.appendChild(document.createElement("br"));
					}
				}
				return (doc.data());
			} else {
				throw new Error("Event does not exist");
			}
		}).catch((err) => {
			console.log(err);
		});
	} */
	$('#form').on('keyup keypress', function (e) {
		var keyCode = e.keyCode || e.which;
		if (keyCode === 13) {
			e.preventDefault();
			return false;
		}
	});
</script>

<%include foot.ejs %>